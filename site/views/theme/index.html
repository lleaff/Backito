<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Backito</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>   

    <!-- test -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap_def.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="dist/css/bootstrap-select.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap_def.css">
    <script src="app.min.js"></script>
    <script src="dist/js/bootstrap-select.js"></script> 
    <script src="./dropzone.js"></script>
    <link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">
    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <i class="fa fa-database"></i>  Back<span class="light">ito</span>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">Plateforms</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#download">Backup</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <h1 class="brand-heading">Backito</h1>
                        <p class="intro-text">Backup everything.</p>
                        <a href="#about" class="btn btn-circle page-scroll">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Enter your backup platforms</h2>
             <div class="box box-success" style="max-width:600px; margin:0 auto; margin-bottom:20px">
                  <div class="box-header with-border">
                    <h3 class="box-title"><i class="fa fa-desktop" style="color:#00A65A"></i> Add a back up location</h3>
                  </div>
                  <div class="box-body">
                    <div class="row">
                        <div class="col-xs-6">
                            <label style="color:black;">Method</label>
                            <div class="col-lg-10">
                                <select id="basic" class="selectpicker show-tick form-control">
                                    <optgroup label="Distant or local machine">
                                        <option value="ssh">SSH</option>
                                        <option class="get-class" disabled value="ftp">FTP</option>
                                        <option value="lcl">Local</option>
                                    </optgroup>
                                    <optgroup label="Versionning">
                                        <option value="svn">SVN</option>
                                        <option value="git">GIT</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        <div class="col-xs-6">
                        <label style="color:black;">Link/Ip Adress</label>
                        <input id="address" pattern="" type="text" class="form-control" placeholder="Ex: 192.168.53.30" style="margin:0 auto;text-align:center">
                        </div>
                    </div>
                  </div>
                 <center><input id="add_dest" value=" Add " type="submit" class="btn btn-default btn-flat btn" href="" style="margin-top:10px; margin-bottom:10px; background-color:white"><i class="fa fa-check"></i></input></center>
            </div>
            <div class="box box-success" style="max-width:600px; margin:0 auto; margin-bottom:20px">
                  <div class="box-header with-border">
                    <h3 class="box-title"><i class="fa fa-files-o" style="color:#00A65A"></i> Add a file</h3>
                  </div>
                  <div class="box-body">
                    <div class="row">
                        <div class="col-xs-6">
                            <center>
                            <label style="color:black;">Select a file or a directory</label>
                            <form action="javascript:void(0);" class="dropzone">
                              <div class="fallback">
                                <input name="file" type="file" multiple />
                              </div>
                            </form>
                            </center>
                        </div>
                    </div>
                  </div>
                 <center><input id="add_file" value=" Add " type="submit" class="btn btn-default btn-flat btn" href="" style="margin-top:10px; margin-bottom:10px; background-color:white"><i class="fa fa-check"></i></input></center>
            </div>                   
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="content-section text-center">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-8 col-lg-offset-2" id="destinations">
                    <h2 id="desti">Selected destinations</h2>
                    <button id="backup" class="btn btn-default btn-lg" disabled>Back up</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Logs</h2>
                <p>fdjks</p>
                <ul class="list-inline banner-social-buttons">
                    <li>
                        <a href="https://twitter.com/SBootstrap" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i> <span class="network-name">Twitter</span></a>
                    </li>
                    <li>
                        <a href="https://github.com/IronSummitMedia/startbootstrap" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span></a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/+Startbootstrap/posts" class="btn btn-default btn-lg"><i class="fa fa-google-plus fa-fw"></i> <span class="network-name">Google+</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Copyright &copy; Backito 2016</p>
        </div>
    </footer>
    <script type="text/javascript">
    $("input#add_dest").click(function(){
        var dest = $("input#address").val();
        var type = $("select#basic").val();
        $("input#address").val("");
        $("select#basic").prop('selectedIndex',0);
        if (document.getElementById(type) === null)
        {
            $("h2#desti").after($("<dl>").attr("id", type));
            $("dl#" + type).append("<dt>" + type + "</dt>");
            $("dl#" + type).append($("<hr>").attr("width", '30%'));
        }
        $("dl#" + type + ' hr').before($("<dd>" + dest + "</dd>").append('<i class="fa fa-times fa-2x remove" style="color:#42dca3; size:15pt"></i>'));
        $(".remove").click(function()
        {
            var tmp = $(this).parent();
            if ((tmp.parent().children()).length === 3)
            {
                if (tmp.parent().parent().children().length === 3)
                    $("button#backup").prop( "disabled", true);
                tmp.parent().remove();
            }
            else
                tmp.remove();
 
        });
        $("button#backup").prop( "disabled", false);
    });

    $("input#add_file").click(function(){
        //todo: recuperer le chemin des fichier uploaded
    });

    $("button#backup").click(function(){
        var arr = $(this).parent().children("dl").toArray();
        var result = [];
        for ( var i = 0, l = arr.length; i < l; i++ ) {
            var obj = { ptc: $(arr[i]).attr("id"),
                        dest: [] 
                        };
            var dests = $(arr[i]).children("dd").toArray();
            for ( var j = 0, l2 = dests.length; j < l2; j++ ) {
                obj.dest[j] = $(dests[j]).text();
            }
            result.push(obj);
        }
    });
    </script>
    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="js/jquery.easing.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/grayscale.js"></script>

</body>

</html>
